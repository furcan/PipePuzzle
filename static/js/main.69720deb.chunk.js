(this["webpackJsonppipe-puzzle"]=this["webpackJsonppipe-puzzle"]||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(9),s=n(4),i=n(8),o=n(14),l=n(15),u=n(5),p={name:"Pipe Puzzle"},m={urlWebSocket:"wss://hometask.eg1236.com/game-pipes/",commandHelp:"help",commandNew:"new",commandMap:"map",commandRotate:"rotate",commandVerify:"verify",responseNewIsOk:"new: OK",responseRotateIsOk:"rotate: OK",responseMapIsOk:"map:",responseVerifyIsOk:"verify: Correct!",responseVerifyIsOkPassword:"Password:",responseVerifyIsOverAttempt:"verify: Only 10",remainingValidationAttempt:12,maximumGameLevel:6},v="pipepuzzle_achievement_",b={achievementLevel1:"pipepuzzle_achievement_1",achievementLevel2:"pipepuzzle_achievement_2",achievementLevel3:"pipepuzzle_achievement_3",achievementLevel4:"pipepuzzle_achievement_4",achievementLevel5:"pipepuzzle_achievement_5",achievementLevel6:"pipepuzzle_achievement_6"},d={loading:"Please wait...",failure:"Something went wrong. Please try again."},j={copyright:"All rights reserved.",levelPrefix:"Level",buttonValidate:"Validate",buttonGiveUp:"Give Up!",buttonReturn:"Return",buttonNext:"Next Level",validationRemainingAttempt:"Remaining of the validation attempt is:",nextLevel:"Well done! You have achieved:",gameIsOver:"Game is over! You may start again.",gameIsFinished:"You have finished the game. \nYou can be the next Einstein!",welcomeTitle:"Welcome!",welcomeDescription:"You may choose a level to start.",welcomeLevel:"Level",welcomeAchievement:"Achievement",welcomePlay:"Play"},_=n(3),h=n.n(_),O=n(7),f=n(16),x=function(e){return new Promise((function(t){return setTimeout((function(){t()}),e||1e3)}))},z=function(e){var t,n,c;return null===(t=e.replace("map:",""))||void 0===t||null===(n=t.trim())||void 0===n||null===(c=n.split("\n"))||void 0===c?void 0:c.map((function(e){var t;return null===e||void 0===e||null===(t=e.trim())||void 0===t?void 0:t.split("")}))},w=function(e){return window.localStorage.getItem(e)||null},g=function e(t){var n=this;Object(f.a)(this,e),this._webSocketUrl=m.urlWebSocket,this.webSocketOnOpenAsync=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.onopen=function(){e(!0)},t.onerror=function(){e(!1)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.webSocketOnMessageAsync=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.onmessage=function(t){var n=t.data||"";e(n)},t.onerror=function(){e(null)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.webSocketOnCloseAsync=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.onclose=function(){e(t.readyState)},t.onerror=function(){e(null)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createNewSocketAndPuzzleAsync=function(){var e=Object(O.a)(h.a.mark((function e(t){var c,a,r,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(360);case 3:return c=new WebSocket(n._webSocketUrl),e.next=6,n.webSocketOnOpenAsync(c);case 6:if(e.sent){e.next=9;break}throw new Error;case 9:return c.send("".concat(m.commandNew," ").concat(t)),e.next=12,n.webSocketOnMessageAsync(c);case 12:if(null===(a=e.sent)||void 0===a?void 0:a.includes(m.responseNewIsOk)){e.next=15;break}throw new Error;case 15:return c.send(m.commandMap),e.next=18,n.webSocketOnMessageAsync(c);case 18:if(null===(r=e.sent)||void 0===r?void 0:r.startsWith(m.responseMapIsOk)){e.next=21;break}throw new Error;case 21:return s=z(r),e.abrupt("return",{puzzleData:s,webSocket:c});case 25:return e.prev=25,e.t0=e.catch(0),e.abrupt("return",null);case 28:case"end":return e.stop()}}),e,null,[[0,25]])})));return function(t){return e.apply(this,arguments)}}(),this.rotateExistingPuzzleAsync=function(){var e=Object(O.a)(h.a.mark((function e(t){var c,a,r,s,i,o;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.webSocket,a=t.positionX,r=t.positionY,e.prev=1,c.send("".concat(m.commandRotate," ").concat(a," ").concat(r)),e.next=5,n.webSocketOnMessageAsync(c);case 5:if(null===(s=e.sent)||void 0===s?void 0:s.includes(m.responseRotateIsOk)){e.next=8;break}throw new Error;case 8:return c.send(m.commandMap),e.next=11,n.webSocketOnMessageAsync(c);case 11:if(null===(i=e.sent)||void 0===i?void 0:i.startsWith(m.responseMapIsOk)){e.next=14;break}throw new Error;case 14:return o=z(i),e.abrupt("return",o);case 18:return e.prev=18,e.t0=e.catch(1),e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[1,18]])})));return function(t){return e.apply(this,arguments)}}(),this.verifyExistingPuzzleAsync=function(){var e=Object(O.a)(h.a.mark((function e(t,c){var a,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.send(m.commandVerify),e.next=4,n.webSocketOnMessageAsync(t);case 4:if(a=e.sent){e.next=7;break}throw new Error;case 7:return r={isCorrect:!1,isGameOver:!1,levelPassword:""},(null===a||void 0===a?void 0:a.includes(m.responseVerifyIsOverAttempt))&&(r={isCorrect:!1,isGameOver:!0,levelPassword:""}),(null===a||void 0===a?void 0:a.includes(m.responseVerifyIsOk))&&(i=(null===(s=a.split(m.responseVerifyIsOkPassword).pop())||void 0===s?void 0:s.trim())||"",o="".concat(v).concat(c),l=i,window.localStorage.setItem(o,l),r={isCorrect:!0,isGameOver:!1,levelPassword:i}),e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",null);case 16:case"end":return e.stop()}var o,l}),e,null,[[0,13]])})));return function(t,n){return e.apply(this,arguments)}}(),this.goToNextLevelOfPuzzleAsync=function(){var e=Object(O.a)(h.a.mark((function e(t,c){var a,r,s,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x(360);case 3:return a=c>m.maximumGameLevel?m.maximumGameLevel:c,t.send("".concat(m.commandNew," ").concat(a)),e.next=7,n.webSocketOnMessageAsync(t);case 7:if(null===(r=e.sent)||void 0===r?void 0:r.includes(m.responseNewIsOk)){e.next=10;break}throw new Error;case 10:return t.send(m.commandMap),e.next=13,n.webSocketOnMessageAsync(t);case 13:if(null===(s=e.sent)||void 0===s?void 0:s.startsWith(m.responseMapIsOk)){e.next=16;break}throw new Error;case 16:return i=z(s),e.abrupt("return",i);case 20:return e.prev=20,e.t0=e.catch(0),e.abrupt("return",null);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(t,n){return e.apply(this,arguments)}}(),this.closeWebSocketAsync=function(){var e=Object(O.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.close(),e.next=4,n.webSocketOnCloseAsync(t);case 4:if(null===(c=e.sent)){e.next=9;break}return e.abrupt("return",c);case 9:throw new Error;case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),this._webSocketUrl=t||this._webSocketUrl},k="PUZZLE_STARTED",y="PUZZLE_RETURNED",N="PUZZLE_LOADING",E="PUZZLE_FAILED",L="PUZZLE_CREATED",S="PUZZLE_UPDATED",A="PUZZLE_GAMEOVER",I="PUZZLE_VALIDATIONATTEMPTDECREASED",P="PUZZLE_NEXTLEVELAVAILABLE",C="PUZZLE_NEXTLEVELCREATED",D=function(e){return{type:k,actionGameLevel:e}},R=function(){return{type:N}},T=function(){return{type:E}},W=function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(new g).closeWebSocketAsync(e);case 3:if(null===t.sent){t.next=8;break}n({type:y}),t.next=9;break;case 8:throw new Error;case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),n(T());case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return e.puzzleReducer},V={puzzleIsWelcome:!0,puzzleLevel:1,puzzleLevelPassword:"",puzzleIsStarted:!1,puzzleIsOver:!1,puzzleIsLoading:!1,puzzleIsError:!1,puzzleData:[],puzzleWebSocket:void 0,puzzleRemainingValidationAttempt:m.remainingValidationAttempt,puzzleIsNextLevelAvailable:!1},M=Object(i.combineReducers)({puzzleReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(u.a)(Object(u.a)({},V),{},{puzzleIsWelcome:!1,puzzleLevel:t.actionGameLevel||V.puzzleLevel});case y:return V;case N:return Object(u.a)(Object(u.a)({},e),{},{puzzleIsLoading:!0,puzzleIsError:!1});case E:return Object(u.a)(Object(u.a)({},e),{},{puzzleIsLoading:!1,puzzleIsError:!0});case L:return Object(u.a)(Object(u.a)({},e),{},{puzzleIsStarted:!0,puzzleIsLoading:!1,puzzleIsError:!1,puzzleData:t.actionData,puzzleWebSocket:t.actionWebSocket});case S:return Object(u.a)(Object(u.a)({},e),{},{puzzleData:t.actionData});case I:return Object(u.a)(Object(u.a)({},e),{},{puzzleRemainingValidationAttempt:e.puzzleRemainingValidationAttempt-1});case A:return Object(u.a)(Object(u.a)({},e),{},{puzzleIsOver:!0});case P:return Object(u.a)(Object(u.a)({},e),{},{puzzleIsNextLevelAvailable:!0,puzzleLevelPassword:t.actionGamePassword||""});case C:return Object(u.a)(Object(u.a)({},V),{},{puzzleIsWelcome:!1,puzzleIsStarted:!0,puzzleLevel:e.puzzleLevel+1,puzzleData:t.actionData,puzzleWebSocket:e.puzzleWebSocket});default:return e}}}),Z=(n(27),n(1));var U=function(){return Object(Z.jsx)("header",{className:"header",children:Object(Z.jsx)("div",{className:"header__container",children:Object(Z.jsxs)("div",{className:"header__logo",children:[Object(Z.jsx)("svg",{className:"header__logo__icon",width:"100",height:"100",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:Object(Z.jsxs)("g",{fillRule:"nonzero",children:[Object(Z.jsx)("path",{d:"m57 20v35h-14v-35c0-1.6568542-1.3431458-3-3-3s-3 1.3431458-3 3v3h-14v-3c0-9.3888407 7.6111593-17 17-17s17 7.6111593 17 17z",fill:"#9e9e9e"}),Object(Z.jsx)("path",{d:"m37 17c-1.6548028.0049422-2.9950578 1.3451972-3 3v3h3v-3c.0060761-1.065691.5770595-2.0481631 1.5-2.581-.4536919-.2709246-.9715827-.4155888-1.5-.419z",fill:"#707070"}),Object(Z.jsx)("path",{d:"m40 3c-.506 0-1.005.032-1.5.076 8.7647399.78635209 15.4850546 8.1240686 15.5 16.924v35h3v-35c-.0132191-9.3833598-7.6166402-16.98678088-17-17z",fill:"#707070"}),Object(Z.jsx)("path",{d:"m37 37v3c-.0000001 9.3888406-7.6111594 16.9999997-17 16.9999997s-16.99999986-7.6111591-17-16.9999997v-35h14v35c0 1.6568542 1.3431458 3 3 3s3-1.3431458 3-3v-3z",fill:"#9e9e9e"}),Object(Z.jsx)("path",{d:"m17 43c.5284173-.0034112 1.0463081-.1480754 1.5-.419-.9229405-.5328369-1.4939239-1.515309-1.5-2.581v-35h-3v35c.0049422 1.6548028 1.3451972 2.9950578 3 3z",fill:"#707070"}),Object(Z.jsx)("path",{d:"m34 37v3c-.0149454 8.7999314-6.7352601 16.1376479-15.5 16.924.5.044.994.076 1.5.076 9.3833598-.0132191 16.9867809-7.6166402 17-17v-3z",fill:"#707070"}),Object(Z.jsx)("path",{d:"m19 3c.0028231.53059053-.2101411 1.0395388-.59 1.41-.3704612.3798589-.8794095.59282307-1.41.59h-14c-1.10320187-.0032948-1.9967052-.89679813-2-2-.00282307-.53059053.2101411-1.0395388.59-1.41.3704612-.3798589.87940947-.59282307 1.41-.59h14c1.1032019.0032948 1.9967052.89679813 2 2z",fill:"#cfd8dc"}),Object(Z.jsx)("path",{d:"m17 1h-3c1.1032019.0032948 1.9967052.89679813 2 2 .0028231.53059053-.2101411 1.0395388-.59 1.41-.3704612.3798589-.8794095.59282307-1.41.59002771l3-.00002771c.5305905.00282307 1.0395388-.2101411 1.41-.59.3798589-.3704612.5928231-.87940947.59-1.41-.0032948-1.10320187-.8967981-1.9967052-2-2z",fill:"#9e9e9e"}),Object(Z.jsx)("rect",{id:"Rectangle-path",fill:"#ff9801",height:"14",rx:"2",width:"18",x:"21",y:"23"}),Object(Z.jsx)("path",{d:"m37 23h-3c1.1032019.0032948 1.9967052.8967981 2 2v10c-.0032948 1.1032019-.8967981 1.9967052-2 2h3c1.1032019-.0032948 1.9967052-.8967981 2-2v-10c-.0032948-1.1032019-.8967981-1.9967052-2-2z",fill:"#f57c00"}),Object(Z.jsx)("path",{d:"m59 57c-.0081672 1.1011688-.8988312 1.9918328-2 2h-14c-1.1032019-.0032948-1.9967052-.8967981-2-2 .0081672-1.1011688.8988312-1.9918328 2-2h14c1.1032019.0032948 1.9967052.8967981 2 2z",fill:"#cfd8dc"}),Object(Z.jsx)("path",{d:"m57 55h-3c1.1032019.0032948 1.9967052.8967981 2 2-.0081672 1.1011688-.8988312 1.9918328-2 2h3c1.1011688-.0081672 1.9918328-.8988312 2-2-.0032948-1.1032019-.8967981-1.9967052-2-2z",fill:"#9e9e9e"}),Object(Z.jsx)("path",{d:"m58 54.184v-34.184c-.0000001-9.9411254-8.0588746-17.99999973-18-17.99999973s-17.9999999 8.05887433-18 17.99999973v2.184c-1.1943509.4222546-1.9947486 1.5492146-2 2.816v10c.0052514 1.2667854.8056491 2.3937454 2 2.816v2.184c0 1.1045695-.8954305 2-2 2s-2-.8954305-2-2v-34.184c1.3765475-.48485233 2.2026937-1.89184415 1.9553873-3.33017801-.2473064-1.43833387-1.49595-2.48858739-2.9553873-2.48582199h-14c-1.45943726-.0027654-2.70808095 1.04748812-2.95538732 2.48582199-.24730638 1.43833386.57883984 2.84532568 1.95538732 3.33017801v34.184c0 9.9411255 8.0588745 18 18 18s18-8.0588745 18-18v-2.184c1.1943509-.4222546 1.9947486-1.5492146 2-2.816v-10c-.0052514-1.2667854-.8056491-2.3937454-2-2.816v-2.184c0-1.1045695.8954305-2 2-2s2 .8954305 2 2v34.184c-1.3765475.4848523-2.2026937 1.8918441-1.9553873 3.330178s1.49595 2.4885874 2.9553873 2.485822h14c1.4594373.0027654 2.7080809-1.0474881 2.9553873-2.485822s-.5788398-2.8453257-1.9553873-3.330178zm-56-51.184c0-.55228475.44771525-1 1-1h14c.5522847 0 1 .44771525 1 1s-.4477153 1-1 1h-14c-.55228475 0-1-.44771525-1-1zm34 37c0 8.836556-7.163444 16-16 16s-16-7.163444-16-16v-34h12v34c0 2.209139 1.790861 4 4 4s4-1.790861 4-4v-2h12zm2-5c0 .5522847-.4477153 1-1 1h-14c-.5522847 0-1-.4477153-1-1v-10c0-.5522847.4477153-1 1-1h14c.5522847 0 1 .4477153 1 1zm2-19c-2.209139 0-4 1.790861-4 4v2h-12v-2c0-8.836556 7.163444-16 16-16s16 7.163444 16 16v34h-12v-34c0-2.209139-1.790861-4-4-4zm17 42h-14c-.5522847 0-1-.4477153-1-1s.4477153-1 1-1h14c.5522847 0 1 .4477153 1 1s-.4477153 1-1 1z",fill:"#000"}),Object(Z.jsxs)("g",{fill:"#f5f5f5",children:[Object(Z.jsx)("path",{d:"m7 12c-.55228475 0-1-.4477153-1-1v-2c0-.55228475.44771525-1 1-1s1 .44771525 1 1v2c0 .5522847-.44771525 1-1 1z"}),Object(Z.jsx)("path",{d:"m7 30c-.55228475 0-1-.4477153-1-1v-14c0-.5522847.44771525-1 1-1s1 .4477153 1 1v14c0 .5522847-.44771525 1-1 1z"})]})]})}),Object(Z.jsx)("h1",{className:"header__logo__text",children:p.name})]})})})};n(29);var Y=function(){return Object(Z.jsx)("footer",{className:"footer",children:Object(Z.jsx)("div",{className:"footer__container",children:Object(Z.jsx)("div",{className:"footer__copyright",children:Object(Z.jsxs)("p",{className:"footer__copyright__text",children:["\xa9 ",(new Date).getFullYear()," ",p.name,". ",j.copyright]})})})})};n(30);var X=function(e){var t=e.children;return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(U,{}),Object(Z.jsx)("main",{className:"layout",children:Object(Z.jsx)("div",{className:"layout__container",children:Object(Z.jsx)("div",{className:"layout__content",children:t})})}),Object(Z.jsx)(Y,{})]})},F=n(10),B=n(6),J=n(17);n(31);var K=function(){var e=Object(s.b)(),t=function(t){e(function(e){return function(){var t=Object(O.a)(h.a.mark((function t(n){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(D(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))};return Object(Z.jsxs)("div",{className:"welcome",children:[Object(Z.jsxs)("div",{className:"welcome__head",children:[Object(Z.jsx)("h1",{className:"welcome__head__title",children:j.welcomeTitle}),Object(Z.jsx)("p",{className:"welcome__head__description",children:j.welcomeDescription})]}),Object(Z.jsxs)("div",{className:"welcome__levels",children:[Object(Z.jsxs)("div",{className:"welcome__level welcome__level--head",children:[Object(Z.jsx)("div",{className:"welcome__level__key key--level",children:j.welcomeLevel}),Object(Z.jsx)("div",{className:"welcome__level__key key--achievement",children:j.welcomeAchievement}),Object(Z.jsx)("div",{className:"welcome__level__key key--play",children:j.welcomePlay})]}),Object.entries(b).map((function(e,n){var c=Object(F.a)(e,2)[1],a=w(c),r=w("".concat(v).concat(n)),s=0===n||r,i=n+1;return Object(Z.jsxs)("div",{className:"welcome__level",children:[Object(Z.jsxs)("div",{className:"welcome__level__key key--level ".concat(s?"":"welcome__level__key--locked"),children:[Object(Z.jsxs)("span",{children:[j.levelPrefix," ",i]}),!s&&Object(Z.jsx)(J.a,{className:"welcome__level__key__icon--lock"})]}),Object(Z.jsx)("div",{className:"welcome__level__key key--achievement",children:a||Object(Z.jsx)(B.g,{className:"welcome__level__key__icon--achievement"})}),Object(Z.jsx)("div",{className:"welcome__level__key key--play",children:Object(Z.jsx)("button",{type:"button",className:"welcome__level__button ".concat(s?"":"welcome__level__button--passive"),onClick:s?function(){return t(i)}:void 0,children:Object(Z.jsx)(B.h,{})})})]},n)}))]})]})};var H=function(){return Object(Z.jsxs)("div",{className:"game game--loading",children:[Object(Z.jsx)(B.i,{className:"game--loading__icon"}),Object(Z.jsx)("p",{className:"game--loading__message",children:d.loading})]})};var q=function(){var e=Object(s.b)(),t=Object(s.c)(G).puzzleWebSocket;return Object(Z.jsxs)("div",{className:"game game--failure",children:[Object(Z.jsx)(B.a,{className:"game--failure__icon"}),Object(Z.jsx)("p",{className:"game--failure__message",children:d.failure}),Object(Z.jsxs)("button",{type:"button",className:"game--failure__button",onClick:function(){t&&e(W(t))},children:[Object(Z.jsx)(B.d,{className:"game--failure__button__icon"}),Object(Z.jsx)("span",{children:j.buttonReturn})]})]})};var Q,$=function(){var e=Object(s.b)(),t=Object(s.c)(G).puzzleWebSocket;return Object(Z.jsxs)("div",{className:"game__over",children:[Object(Z.jsx)(B.e,{className:"game__over__icon"}),Object(Z.jsx)("p",{className:"game__over__message",children:j.gameIsOver}),Object(Z.jsxs)("button",{type:"button",className:"game__over__button",onClick:function(){t&&e(W(t))},children:[Object(Z.jsx)(B.d,{className:"game__over__button__icon"}),Object(Z.jsx)("span",{children:j.buttonReturn})]})]})};!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(Q||(Q={}));var ee=new Map([[Q.CONNECTING,"(Socket has been created. The connection is not yet open.)"],[Q.OPEN,"(The connection is open and ready to communicate.)"],[Q.CLOSING,"(The connection is in the process of closing.)"],[Q.CLOSED,"(The connection is closed or couldn't be opened.)"]]);var te=function(){var e,t=Object(s.b)(),n=Object(s.c)(G),c=n.puzzleRemainingValidationAttempt,a=n.puzzleWebSocket,r=n.puzzleLevel;return Object(Z.jsxs)("div",{className:"game__actions",children:[Object(Z.jsxs)("span",{className:"game__actions__level",children:[j.levelPrefix," ",r]}),Object(Z.jsxs)("div",{className:"game__actions__buttons",children:[Object(Z.jsxs)("button",{type:"button",className:"game__actions__button",onClick:function(){a&&t(W(a))},children:[Object(Z.jsx)(B.e,{className:"game__actions__button__icon"}),Object(Z.jsx)("span",{children:j.buttonGiveUp})]}),Object(Z.jsxs)("button",{type:"button",className:"game__actions__button game__actions__button--validate",onClick:function(){var e,n;a&&t((e=a,n=r,function(){var t=Object(O.a)(h.a.mark((function t(c){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(new g).verifyExistingPuzzleAsync(e,n);case 3:if(a=t.sent){t.next=6;break}throw new Error;case 6:a.isCorrect||c({type:I}),a.isGameOver&&c({type:A}),a.isCorrect&&c((r=a.levelPassword,{type:P,actionGamePassword:r})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),c(T());case 14:case"end":return t.stop()}var r}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}()))},children:[Object(Z.jsx)(B.c,{className:"game__actions__button__icon"}),Object(Z.jsx)("span",{children:j.buttonValidate})]})]}),Object(Z.jsxs)("div",{className:"game__actions__info",children:[Object(Z.jsxs)("p",{className:"game__actions__info__message",children:[Object(Z.jsx)("span",{children:j.validationRemainingAttempt}),Object(Z.jsx)("span",{className:"game__actions__info__message__count",children:c})]}),Object(Z.jsx)("p",{className:"game__actions__info__message message--small state--".concat((null===a||void 0===a?void 0:a.readyState)||""),children:(e=null===a||void 0===a?void 0:a.readyState,ee.get(e||Q.CLOSED)||"")})]})]})};var ne=function(){var e=Object(s.b)(),t=Object(s.c)(G),n=t.puzzleWebSocket,c=t.puzzleLevelPassword,a=t.puzzleLevel;return Object(Z.jsxs)("div",{className:"game__actions",children:[Object(Z.jsxs)("div",{className:"game__actions__achievement",children:[Object(Z.jsx)(B.f,{className:"game__actions__achievement__icon"}),Object(Z.jsxs)("p",{className:"game__actions__achievement__message",children:[Object(Z.jsx)("span",{children:j.nextLevel}),Object(Z.jsx)("span",{className:"game__actions__achievement__message__highlight",children:c})]})]}),Object(Z.jsxs)("div",{className:"game__actions__buttons",children:[Object(Z.jsxs)("button",{type:"button",className:"game__actions__button",onClick:function(){n&&e(W(n))},children:[Object(Z.jsx)(B.d,{className:"game__actions__button__icon"}),Object(Z.jsx)("span",{children:j.buttonReturn})]}),a<m.maximumGameLevel&&Object(Z.jsxs)("button",{type:"button",className:"game__actions__button game__actions__button--next",onClick:function(){var t,c;n&&e((t=n,c=a,function(){var e=Object(O.a)(h.a.mark((function e(n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(R()),e.prev=1,e.next=4,(new g).goToNextLevelOfPuzzleAsync(t,c+1);case 4:if(!(a=e.sent)){e.next=9;break}n({type:C,actionData:a}),e.next=10;break;case 9:throw new Error;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n(T());case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(Z.jsx)(B.b,{className:"game__actions__button__icon"}),Object(Z.jsx)("span",{children:j.buttonNext})]}),a>=m.maximumGameLevel&&Object(Z.jsx)("p",{className:"game__actions__finish",children:j.gameIsFinished})]})]})};var ce=function(){var e=Object(s.b)(),t=Object(s.c)(G),n=t.puzzleData,a=t.puzzleWebSocket,r=t.puzzleRemainingValidationAttempt,i=Object(c.useState)(r),o=Object(F.a)(i,2),l=o[0],u=o[1],p=Object(c.useState)(""),m=Object(F.a)(p,2),v=m[0],b=m[1];Object(c.useEffect)((function(){if(l!==r&&r>0){u(r),b("game__puzzle--bounce");var e=setTimeout((function(){b(""),clearTimeout(e)}),600)}}),[l,r]);var d=function(t){var n=t.positionX,c=t.positionY;a&&e(function(e){var t=e.webSocket,n=e.positionX,c=e.positionY;return function(){var e=Object(O.a)(h.a.mark((function e(a){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(new g).rotateExistingPuzzleAsync({webSocket:t,positionX:n,positionY:c});case 3:if(!(r=e.sent)){e.next=8;break}a({type:S,actionData:r}),e.next=9;break;case 8:throw new Error;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),a(T());case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()}({webSocket:a,positionX:n,positionY:c}))};return Object(Z.jsx)("div",{className:"game__puzzle ".concat(v),children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(Z.jsx)("div",{className:"game__row",children:null===e||void 0===e?void 0:e.map((function(e,n){return Object(Z.jsx)("button",{className:"game__item game__item--attempt--".concat(l),onClick:function(){return d({positionX:n,positionY:t})},children:e},n)}))},t)}))})};n(32);var ae=function(){var e=Object(s.b)(),t=Object(s.c)(G),n=t.puzzleLevel,a=t.puzzleIsStarted,r=t.puzzleIsLoading,i=t.puzzleIsError,o=t.puzzleIsOver,l=t.puzzleIsNextLevelAvailable;return Object(c.useLayoutEffect)((function(){var t;a||e((t=n,function(){var e=Object(O.a)(h.a.mark((function e(n){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(R()),e.prev=1,e.next=4,(new g).createNewSocketAndPuzzleAsync(t);case 4:if(!((c=e.sent)instanceof Object)){e.next=9;break}n((a=c.puzzleData,r=c.webSocket,{type:L,actionData:a,actionWebSocket:r})),e.next=10;break;case 9:throw new Error;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),n(T());case 15:case"end":return e.stop()}var a,r}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()))}),[e,a,n]),r?Object(Z.jsx)(H,{}):i?Object(Z.jsx)(q,{}):Object(Z.jsxs)("div",{className:"game ".concat(l?"game--succeeded":""," ").concat(o?"game--failed":""),children:[o&&Object(Z.jsx)($,{}),!o&&!l&&Object(Z.jsx)(te,{}),l&&Object(Z.jsx)(ne,{}),Object(Z.jsx)(ce,{})]})};var re=function(){var e=Object(s.c)(G).puzzleIsWelcome;return Object(Z.jsxs)(X,{children:[e&&Object(Z.jsx)(K,{}),!e&&Object(Z.jsx)(ae,{})]})},se=(n(33),function(){var e=Object(i.createStore)(M,Object(l.composeWithDevTools)(Object(i.applyMiddleware)(o.a)));return Object(Z.jsx)(s.a,{store:e,children:Object(Z.jsx)(a.a.StrictMode,{children:Object(Z.jsx)(re,{})})})}),ie=window.document.getElementById("PipePuzzleApp");(null===ie||void 0===ie?void 0:ie.hasChildNodes())?Object(r.hydrate)(Object(Z.jsx)(se,{}),ie):Object(r.render)(Object(Z.jsx)(se,{}),ie)}},[[34,1,2]]]);
//# sourceMappingURL=main.69720deb.chunk.js.map